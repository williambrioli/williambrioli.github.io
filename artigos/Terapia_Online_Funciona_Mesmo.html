<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="/css/menu.css">
  <link rel="stylesheet" href="/css/base.css">
  <link rel="stylesheet" href="/css/herodoblog.css">
 
  
  <!-- =========================
       üîß BLOCO DE CONFIGURA√á√ÉO
       (edite apenas este trecho)
  
  PARA COLOCAR O CAMINHO DA IMAGEM USE cover: "../img/artigocnv.png",
  
       ========================= -->
  <script>
    const ARTICLE = {
      title: "Terapia Online Funciona Mesmo?",
      description: "Este artigo apresenta uma an√°lise das evid√™ncias cient√≠ficas sobre a efic√°cia da psicoterapia realizada em formato on-line, comparando-a aos modelos presenciais e descrevendo seus impactos na sa√∫de mental, ades√£o ao tratamento e resultados cl√≠nicos.",
      date: "2025-11-18",
      author: "William Brioli",
      cover: "https://williambrioli.com.br/img/HEROog.png",
      showCover: false, // üö´ adiciona esse novo campo
      alt: "Terapia Online Funciona Mesmo?",
      canonical: "https://williambrioli.com.br/Terapia_Online_Funciona_Mesmo.html",

      // üìù Conte√∫do do artigo
      content: `
<h2>Introdu√ß√£o</h2>

<p>A psicoterapia on-line, tamb√©m chamada de telepsicologia ou teleterapia, expandiu-se de forma significativa nas √∫ltimas d√©cadas. O uso de videochamadas, plataformas seguras e aplicativos permitiu que pessoas em diferentes regi√µes tivessem acesso a atendimento psicol√≥gico sem barreiras geogr√°ficas. Nos √∫ltimos anos, especialmente ap√≥s 2020, pesquisadores passaram a investigar com maior rigor se a modalidade virtual apresenta efic√°cia semelhante √† terapia presencial.</p>

<h2>Fundamenta√ß√£o Te√≥rica</h2>

<p>Estudos publicados na <em>American Psychologist</em> e no <em>Journal of Psychological Disorders</em> demonstram que a terapia cognitivo-comportamental (TCC) on-line apresenta resultados equivalentes aos obtidos presencialmente no tratamento de ansiedade, depress√£o e transtornos relacionados ao estresse. Um dos estudos mais citados √© o de Andrews et al. (2018), que concluiu que interven√ß√µes psicol√≥gicas via internet possuem efic√°cia clinicamente significativa, especialmente quando mediadas por um profissional qualificado.</p>

<p>O livro <strong>‚ÄúTelepsychology and Telehealth‚Äù</strong> (American Psychological Association, 2013) tamb√©m refor√ßa que a rela√ß√£o terap√™utica ‚Äî elemento central para o sucesso da psicoterapia ‚Äî pode ser constru√≠da de forma aut√™ntica mesmo em ambientes virtuais, desde que exista comunica√ß√£o adequada e condi√ß√µes t√©cnicas adequadas.</p>

<h2>M√©todos e Compara√ß√µes Entre Modalidades</h2>

<p>Diversas meta-an√°lises compararam sess√µes presenciais e virtuais utilizando indicadores como redu√ß√£o de sintomas, ades√£o ao processo terap√™utico e satisfa√ß√£o do paciente. Em revis√£o publicada por PƒÉsƒÉrelu et al. (2017), observou-se que a efic√°cia da TCC on-line foi estatisticamente semelhante √† presencial, com vantagens adicionais, como maior flexibilidade de hor√°rios e redu√ß√£o de absente√≠smo.</p>

<h2>Resultados Observados na Pr√°tica Cl√≠nica</h2>

<p>Do ponto de vista √©tico e regulat√≥rio, o Conselho Federal de Psicologia do Brasil autorizou e normatizou o atendimento psicol√≥gico on-line por meio da Resolu√ß√£o CFP n¬∫ 11/2018, reconhecendo sua seguran√ßa e efic√°cia. A amplia√ß√£o do acesso √† terapia virtual aumentou a ades√£o ao tratamento, especialmente entre pessoas que enfrentam dificuldades de deslocamento ou residem em cidades menores.</p>

<p>Outro ponto relevante √© o conforto percebido pelos pacientes. Estudos qualitativos indicam que muitos indiv√≠duos sentem-se mais √† vontade para falar sobre quest√µes pessoais quando est√£o em um ambiente familiar, como a pr√≥pria casa, o que favorece a abertura emocional e aprofunda o processo terap√™utico.</p>

<h2>Discuss√£o</h2>

<p>Embora a terapia on-line apresente benef√≠cios comprovados, √© importante reconhecer limita√ß√µes. Casos que demandam interven√ß√µes de emerg√™ncia, avalia√ß√µes presenciais espec√≠ficas ou acompanhamento intensivo podem exigir atendimento presencial. No entanto, para a ampla maioria das demandas psicoterap√™uticas, a literatura cient√≠fica atual considera a modalidade virtual eficaz, segura e sustentada por evid√™ncias s√≥lidas.</p>

<h2>Conclus√£o</h2>

<p>Diante das evid√™ncias dispon√≠veis, conclui-se que a terapia on-line funciona, sim, e apresenta resultados compar√°veis √† terapia presencial. Trata-se de uma alternativa v√°lida, cient√≠fica e amplamente respaldada, que democratiza o acesso √† sa√∫de mental e atende √†s necessidades contempor√¢neas da popula√ß√£o.</p>

<h2>Refer√™ncias</h2>

<ul>
  <li>Andrews, G., Basu, A., Cuijpers, P. et al. (2018). Computer therapy for the anxiety and depression disorders is effective, acceptable and practical health care: An updated meta-analysis. <em>Journal of Anxiety Disorders</em>.</li>
  <li>American Psychological Association. (2013). <em>Telepsychology and Telehealth</em>. APA Press.</li>
  <li>PƒÉsƒÉrelu, C. R., Andersson, G., Bergman, N. L., & Dobrean, A. (2017). Internet-delivered cognitive-behavioral therapy for anxiety disorders in children and adolescents: A meta-analysis. <em>Journal of Anxiety Disorders</em>.</li>
  <li>Conselho Federal de Psicologia. Resolu√ß√£o CFP n¬∫ 11/2018.</li>
</ul>


<div id="authorBio"></div>
      `
    };
  </script>

  <!-- =========================
       SEO / OG AUTOM√ÅTICO
       ========================= -->
  <title id="metaTitle"></title>
  <meta name="description" id="metaDescription" content="">
  <meta name="author" content="William Brioli">
  <meta property="og:title" id="ogTitle" content="">
  <meta property="og:description" id="ogDescription" content="">
  <meta property="og:image" id="ogImage" content="">
  <meta property="og:type" content="article">
  <meta property="og:locale" content="pt_BR">
  <link id="canonicalLink" rel="canonical" href="">


  <!-- ===================
       STYLES ‚Äì mesmo padr√£o de cores do site principal
       =================== -->
  
  
  
  <style>
  

.hero__overlay {
  padding: 48px 24px; /* espa√ßamento confort√°vel */
  width: 100%;
  
}

.hero__text {
  max-width: 600px; /* mant√©m o texto bonito e leg√≠vel */
  margin-left: 0;   /* garante alinhamento total √† esquerda */
  text-align: left; /* s√≥ para garantir */
}


    

    /* ==========================
       GRID DE POSTS
       ========================== */
    .blog-section {
      margin-top: 24px;
    }

    .blog-section h2 {
      margin: 0 0 16px;
      font-size: 24px;
      color: var(--primary-700);
      text-align:center !important;
    }

    .posts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }

    .post-card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: 0 6px 18px rgba(30, 30, 30, 0.06);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .post-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 24px rgba(30, 30, 30, 0.12);
    }

    .post-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 0;
    }

    .post-card-body {
      padding: 14px 16px 16px;
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .post-tag {
      display: inline-block;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: .04em;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(46, 125, 126, 0.12);
      color: var(--primary-700);
      margin-bottom: 8px;
    }

    .post-card h3 {
      margin: 0 0 6px;
      font-size: 18px;
      color: var(--primary-700);
    }

    .post-meta {
      font-size: 12px;
      color: #555;
      margin-bottom: 10px;
    }

    .post-excerpt {
      font-size: 14px;
      color: var(--muted);
      line-height: 1.55;
      margin-bottom: 10px;
      flex: 1;
    }

    .post-card-footer {
      margin-top: 4px;
    }

    .btn {
      display: block;
      width: max-content;
      padding: 6px 14px;
      border-radius: 999px;
      background: var(--primary);
      color: #fff;
      font-weight: 700;
      margin: 8px 0 0;
      text-align: center;
      font-size: 14px;
      border: none;
      cursor: pointer;
      transition: all .25s ease-in-out;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.18);
      background: var(--primary-700);
    }

    .btn:active {
      transform: scale(0.96);
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
    }

    .post-card .btn {
      margin-top: 4px;
    }

    .posts-empty {
      font-size: 14px;
      color: #555;
      padding: 16px;
      background: rgba(255,255,255,0.8);
      border-radius: var(--radius);
    }


/* ==========================
   BLOCO DE INTRODU√á√ÉO (acima dos cards)
   ========================== */
.blog-intro-card {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: 0 6px 18px rgba(30, 30, 30, 0.06);
  padding: 24px 28px;
  line-height: 1.7;
  font-size: 16px;
  color: var(--muted);
  margin-bottom: 28px;
}

.blog-intro-card h3,
.blog-intro-card h4 {
  color: var(--primary-700);
  margin-top: 0;
}


    

    
    /* ==========================
       MODAL DE LEITURA DO ARTIGO
       ========================== */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.45);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 16px;
    }

    .modal-backdrop.open {
      display: flex;
    }

    .modal {
      background: var(--card);
      max-width: 900px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      border-radius: var(--radius);
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.35);
      padding: 24px 22px 20px;
      position: relative;
    }

    .modal-close {
      position: absolute;
      top: 10px;
      right: 12px;
      border: none;
      background: transparent;
      font-size: 22px;
      cursor: pointer;
      color: #666;
    }

    .modal-header {
      margin-bottom: 8px;
    }

    .modal-header h2 {
      margin: 0 0 4px;
      font-size: 22px;
      color: var(--primary-700);
    }

    .modal-header .post-meta {
      margin-bottom: 0;
    }

    .modal-cover {
      margin: 12px 0 14px;
    }

    .modal-content {
      font-size: 15px;
      line-height: 1.7;
      color: var(--muted);
    }

    .modal-content h2,
    .modal-content h3,
    .modal-content h4 {
      margin-top: 18px;
      margin-bottom: 6px;
      color: var(--primary-700);
    }

    .modal-content p {
      margin: 0 0 10px;
    }

    .modal-footer {
      margin-top: 16px;
      border-top: 1px solid #eef2f2;
      padding-top: 10px;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      flex-wrap: wrap;
    }

    .modal-footer .btn {
      margin: 0;
    }

    /* ==========================
       RODAP√â / CONTATO (simples)
       ========================== */
    footer.site-footer {
      padding: 24px 0 30px;
      margin-top: 16px;
    }

    .footer-card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 20px 18px;
      box-shadow: 0 6px 18px rgba(30,30,30,0.04);
    }

    .footer-card h2 {
      margin: 0 0 10px;
      font-size: 22px;
      color: var(--primary-700);
      text-align: left;
    }

    .contact-list {
      list-style: none;
      padding: 0;
      margin: 0 0 8px;
      font-size: 14px;
    }

    .contact-list li {
      margin-bottom: 6px;
    }

    /* ==========================
       BOT√ÉO WHATSAPP FLUTUANTE
       ========================== */
    .whatsapp-fab {
      position: fixed;
      right: 18px;
      bottom: 18px;
      background: #25D366;
      width: 64px;
      height: 64px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 24px rgba(46, 125, 126, 0.25);
      z-index: 2300;
      cursor: pointer;
      animation: waFloat 2.5s ease-in-out infinite;
    }

    .whatsapp-fab a {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
    }

    .whatsapp-fab:hover {
      transform: scale(1.08);
      box-shadow: 0 12px 32px rgba(46, 125, 126, 0.35);
    }

    .whatsapp-label {
      position: fixed;
      right: 15px;
      bottom: 5px;
      background: rgba(255, 255, 255, 1);
      color: #25D366;
      padding: 2px 8px;
      border-radius: 8px;
      font-size: 10px;
      font-weight: 600;
      z-index: 2300;
      backdrop-filter: blur(4px);
      animation: waFloat 2.5s ease-in-out infinite;
    }

    @keyframes waFloat {
      0%   { transform: translateY(0); }
      50%  { transform: translateY(-4px); }
      100% { transform: translateY(0); }
    }

    @media (max-width: 900px) {
      .blog-hero-wrap {
        margin-top: 90px;
      }
    }

 /* ==========================
   AJUSTE: Bot√µes do modal alinhados √† esquerda
   ========================== */


/* ==== Ajuste dos bot√µes do modal de artigo ==== */
.modal-footer {
  display: flex !important;
  justify-content: flex-start !important;  /* Alinha √† esquerda */
  align-items: center;
  gap: 8px;  /* Espa√ßo entre os bot√µes */
  flex-wrap: wrap;  /* Evita quebra feia em telas pequenas */
}

/* Opcional: garante que o bot√£o "Fechar" n√£o fique atr√°s do WhatsApp */
.modal-footer button,
.modal-footer a {
  z-index: 10;
  position: relative;
}
   
/* ==========================
   AJUSTE VISUAL DO ARTIGO INDIVIDUAL
   ========================== */
.article .post-card {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: 0 6px 18px rgba(30, 30, 30, 0.06);
  padding: 32px 28px;
  margin-top: 32px;
  line-height: 1.7;
}

.article .post-card h1 {
  color: var(--primary-700);
  font-size: 28px;
  margin-bottom: 12px;
}

.article .post-card .article-meta {
  font-size: 14px;
  color: #555;
  margin-bottom: 20px;
}

.article .post-card img.article-cover {
  border-radius: var(--radius);
  margin-bottom: 24px;
}


/* ==========================
   BOT√ÉO AO FINAL DO ARTIGO
   ========================== */
.article-footer {
  margin-top: 32px;
  text-align: left; /* ou center se quiser centralizado */
}

.article-footer .btn {
  display: inline-block;
  background: var(--primary);
  color: #fff;
  padding: 10px 20px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 15px;
  transition: all 0.25s ease;
}

.article-footer .btn:hover {
  background: var(--primary-700);
  transform: translateY(-2px);
}

/* Remove espa√ßo extra quando o artigo n√£o tem imagem */
.article .article-cover[style*="display: none"] + h1 {
  margin-top: 0;
}


/* ==========================
   REMOVER IMAGENS DOS CARDS DO BLOG
   ========================== */
.post-card img {
  display: none !important;
}

.post-card {
  padding-top: 20px; /* compensa o espa√ßo vazio deixado pela imagem */
}



/* For√ßa centraliza√ß√£o do t√≠tulo da sess√£o CONTATO em todas as p√°ginas */
footer.site-footer .footer-card h2,
#footerContainer .footer-card h2,
footer.site-footer h2 {
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
  display: block;
}


.search-bar-wrap {
  margin: 20px auto;
  max-width: 600px;
  position: relative;
}

.search-bar-wrap input {
  width: 100%;
  padding: 12px 16px;
  font-size: 16px;
  border-radius: 10px;
  border: 1px solid #CBD5D6;
  outline: none;
}

.search-results {
  list-style: none;
  margin: 6px 0 0;
  padding: 0;
  background: white;
  border-radius: 10px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  max-height: 300px;
  overflow-y: auto;
}

.result-item a {
  display: block;
  padding: 10px 14px;
  color: #1F2D2D;
}

.result-item a:hover {
  background: #E7F3F3;
}

.no-results {
  padding: 10px 14px;
  color: #555;
}




    
    
  </style>
</head>
<body>

  <!-- ===================
       HERO DO BLOG
       =================== -->
  <main id="blog-top">
    <section class="blog-hero-wrap">
      <div class="container">
        <div class="blog-hero">
          <h1 id="heroTitle"></h1>
<p id="heroSubtitle"></p>
<small id="heroSmall"></small>

        </div>
      </div>
    </section>

<div id="searchContainer"></div>
<script src="/js/search-data.js"></script>
<script src="/js/search-bar.js"></script>

    
<script src="/js/blog-hero-config.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const hero = window.BLOG_HERO;

  // Aplica a imagem no background
  const heroBox = document.querySelector(".blog-hero");
  heroBox.style.backgroundImage =
    `linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.1)), url("${hero.image}")`;

  // Textos
  document.getElementById("heroTitle").textContent = hero.title;
  document.getElementById("heroSubtitle").textContent = hero.subtitle;
  document.getElementById("heroSmall").textContent = hero.small;
});
</script>

    
    

<!-- CONTE√öDO DO ARTIGO -->
<section class="article">
  <div class="container">
    <article class="post-card">
      <img id="articleCover" class="article-cover" src="" alt="">
      <h1 id="articleTitle"></h1>
      <div id="articleMeta" class="article-meta"></div>
      <section id="articleContent"></section>

      <!-- üîò BOT√ÉO AO FINAL DO ARTIGO -->
      <div class="article-footer">
        <button type="button" class="btn" id="btnAgendarAtendimento">
          Agendar atendimento
        </button>
      </div>
    </article>
  </div>
</section>


   
    <!-- ===================
         LISTA DE ARTIGOS
         =================== -->
    <section class="blog-section">
      <div class="container">

       
       <h2>Artigos Recentes</h2>
        <!-- Container onde os cards ser√£o injetados via JS -->
        <div id="postsGrid" class="posts-grid">
          <!-- Cards criados dinamicamente -->
        </div>

        <!-- Mensagem de erro / vazio -->
        <div id="postsMessage" class="posts-empty" style="display:none;"></div>
      </div>
    </section>

    <!-- ===================
         CONTATO / RODAP√â
         =================== -->
    <footer id="contato" class="site-footer">
  <div class="container footer-card" id="footerContainer">

    <!-- Conte√∫do ser√° injetado via JS -->
  </div>
</footer>
  </main>

  <!-- ===================
       BOT√ÉO WHATSAPP
       =================== -->
  <div class="whatsapp-label">Fale comigo</div>
  <div class="whatsapp-fab" role="link" aria-label="Conversar pelo WhatsApp">
    <a id="waFab" href="#" aria-label="WhatsApp">
      <svg width="32" height="32" viewBox="0 0 32 32" fill="white" xmlns="http://www.w3.org/2000/svg">
        <path d="M16.006 3C9.373 3 4 8.373 4 15.006c0 2.647.873 5.098 2.348 7.083L4 29l7.127-2.298A12.943 12.943 0 0016.006 27c6.632 0 12.006-5.373 12.006-11.994C28.012 8.373 22.638 3 16.006 3zm6.725 16.994c-.28.782-1.634 1.517-2.262 1.547-.58.03-1.31.042-2.113-.133-.488-.112-1.114-.362-1.93-.708-3.386-1.467-5.592-4.876-5.756-5.107-.165-.23-1.37-1.82-1.37-3.47 0-1.65.865-2.463 1.173-2.8.308-.338.675-.423.9-.423.226 0 .451.002.648.012.21.01.49-.08.768.588.28.668.953 2.305 1.036 2.472.082.166.137.362.026.592-.11.23-.165.362-.322.56-.165.197-.347.44-.495.59-.165.165-.337.345-.145.677.197.338.877 1.446 1.886 2.34 1.297 1.153 2.392 1.51 2.73 1.677.338.165.533.142.73-.085.197-.226.843-.983 1.067-1.32.226-.338.451-.28.768-.165.317.112 2.007.947 2.352 1.118.346.173.575.258.66.402.082.14.082.783-.197 1.565z"/>
      </svg>
    </a>
  </div>

  <!-- ===================
       MODAL DE LEITURA DO POST
       =================== -->
  <div id="postModalBackdrop" class="modal-backdrop" aria-hidden="true">
    <article class="modal" role="dialog" aria-modal="true" aria-labelledby="postModalTitle">
      <button class="modal-close" type="button" id="postModalClose" aria-label="Fechar artigo">√ó</button>
      <header class="modal-header">
        <h2 id="postModalTitle"></h2>
        <div class="post-meta" id="postModalMeta"></div>
      </header>
      <div class="modal-cover" id="postModalCover" style="display:none;"></div>
      <section class="modal-content" id="postModalContent"></section>
      <footer class="modal-footer">
        <button type="button" class="btn" id="postModalWhatsApp">Agendar atendimento</button>
        <button type="button" class="btn" id="postModalCloseBottom">Fechar</button>
      </footer>
    </article>
  </div>

  <!-- ===================
       SCRIPTS ‚Äì BLOG + MINI CMS EST√ÅTICO
       =================== -->
  <script>
    // ==========================
    // CONFIGURA√á√ïES GERAIS
    // ==========================
// WHATSAPP ‚Äì links e bot√£o flutuante (CORRIGIDO)
// ==========================
// N√ÉO declare function openWA aqui. Ela vem do config-whatsapp.js

// Pega os elementos de forma segura
const btnContact = document.getElementById('btnContact');
const waFab = document.getElementById('waFab');

// Bot√£o de contato (footer)
if (btnContact) {
  btnContact.addEventListener('click', (e) => {
    e.preventDefault();
    if (typeof openWA === 'function') {
      openWA('generic');
    }
  });
}

// Bot√£o flutuante do WhatsApp
if (waFab) {
  waFab.addEventListener('click', (e) => {
    e.preventDefault();
    if (typeof openWA === 'function') {
      openWA('generic');
    }
  });

  if (waFab.parentElement) {
    waFab.parentElement.addEventListener('click', (e) => {
      e.preventDefault();
      if (typeof openWA === 'function') {
        openWA('generic');
      }
    });
  }
}


    // ==========================
    // MINI PARSER DE MARKDOWN (simplificado)
    // ==========================
    function simpleMarkdownToHtml(md) {
      if (!md) return '';

      // Normaliza quebras de linha
      let text = md.replace(/\r\n/g, '\n');

      // T√≠tulos: #, ##, ###
      text = text.replace(/^### (.*)$/gm, '<h3>$1</h3>');
      text = text.replace(/^## (.*)$/gm, '<h2>$1</h2>');
      text = text.replace(/^# (.*)$/gm, '<h2>$1</h2>');

      // Negrito **texto**
      text = text.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');

      // It√°lico *texto*
      text = text.replace(/\*(.+?)\*/g, '<em>$1</em>');

      // Listas simples iniciadas por "- " ou "* "
      text = text.replace(/^[\-\*] (.*)$/gm, '<li>$1</li>');
      text = text.replace(/(<li>.*<\/li>\n?)+/gm, match => `<ul>${match}</ul>`);

      // Quebra em par√°grafos (duas quebras de linha)
      const parts = text.split(/\n{2,}/).map(block => {
        if (/^<h[23]>/.test(block) || /^<ul>/.test(block)) {
          return block;
        }
        return `<p>${block.trim()}</p>`;
      });

      return parts.join('\n');
    }

    // ==========================
    // CARREGAMENTO DE POSTS via JSON
    // ==========================
    let POSTS_CACHE = [];

    async function loadPosts() {
      const grid = document.getElementById('postsGrid');
      const msgEl = document.getElementById('postsMessage');

      if (!grid || !msgEl) return;

      msgEl.style.display = 'none';
      msgEl.textContent = '';

      try {
        // Arquivo: /posts/posts.json (mesmo reposit√≥rio, mesma branch GitHub Pages)
        const response = await fetch('/posts/posts.json', { cache: 'no-store' });

        if (!response.ok) {
          throw new Error('N√£o foi poss√≠vel carregar a lista de artigos.');
        }

        const posts = await response.json();
        if (!Array.isArray(posts) || posts.length === 0) {
          msgEl.style.display = 'block';
          msgEl.textContent = 'Ainda n√£o h√° artigos publicados. Em breve, novos conte√∫dos estar√£o dispon√≠veis aqui.';
          return;
        }

        POSTS_CACHE = posts;
        renderPosts(posts, grid);

      } catch (err) {
        console.error(err);
        msgEl.style.display = 'block';
        msgEl.textContent = 'Ocorreu um problema ao carregar os artigos. Verifique se o arquivo "posts/posts.json" existe no reposit√≥rio.';
      }
    }

    function renderPosts(posts, container) {
  container.innerHTML = '';

  posts.forEach(post => {
    const card = document.createElement('article');
    card.className = 'post-card';

    // Imagem de capa
    if (post.cover) {
      const img = document.createElement('img');
      img.src = post.cover;
      img.alt = post.title || '';
      card.appendChild(img);
    }

    const body = document.createElement('div');
    body.className = 'post-card-body';

    // Tag (primeira tag do array, se existir)
    if (Array.isArray(post.tags) && post.tags.length > 0) {
      const tag = document.createElement('span');
      tag.className = 'post-tag';
      tag.textContent = post.tags[0];
      body.appendChild(tag);
    }

    // T√≠tulo
    const h3 = document.createElement('h3');
    h3.textContent = post.title || 'Artigo sem t√≠tulo';
    body.appendChild(h3);

    // Meta: data e autor
    const meta = document.createElement('div');
    meta.className = 'post-meta';
    meta.textContent = formatPostMeta(post);
    body.appendChild(meta);

    // Resumo
    if (post.excerpt) {
      const excerpt = document.createElement('div');
      excerpt.className = 'post-excerpt';
      excerpt.textContent = post.excerpt;
      body.appendChild(excerpt);
    }

    // Bot√£o "Ler artigo completo"
    const footer = document.createElement('div');
    footer.className = 'post-card-footer';

    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'btn';
    btn.textContent = 'Ler artigo completo';

    // Evento de clique ‚Üí abre p√°gina HTML
    btn.addEventListener('click', () => {
      if (post.html) {
        window.location.href = post.html; // redireciona
      } else {
        console.warn('Este artigo n√£o tem p√°gina HTML definida.');
      }
    });

    footer.appendChild(btn);
    body.appendChild(footer);
    card.appendChild(body);
    container.appendChild(card);
  }); // üëà fecha o forEach

} // üëà fecha a fun√ß√£o renderPosts corretamente


    function formatPostMeta(post) {
      let parts = [];
      if (post.date) {
        const d = new Date(post.date);
        if (!isNaN(d)) {
          const formatted = d.toLocaleDateString('pt-BR', {
            day: '2-digit',
            month: 'long',
            year: 'numeric'
          });
          parts.push(formatted);
        }
      }
      if (post.author) {
        parts.push('por ' + post.author);
      }
      return parts.join(' ‚Ä¢ ');
    }

    // ==========================
    // MODAL ‚Äì ABRIR ARTIGO COMPLETO
    // ==========================
    const modalBackdrop = document.getElementById('postModalBackdrop');
    const modalTitle = document.getElementById('postModalTitle');
    const modalMeta = document.getElementById('postModalMeta');
    const modalCover = document.getElementById('postModalCover');
    const modalContent = document.getElementById('postModalContent');
    const modalClose = document.getElementById('postModalClose');
    const modalCloseBottom = document.getElementById('postModalCloseBottom');
    const modalWhatsApp = document.getElementById('postModalWhatsApp');

    async function openPostModal(post) {
      if (!post) return;

      modalTitle.textContent = post.title || '';
      modalMeta.textContent = formatPostMeta(post);

      // Capa no modal
      if (post.cover) {
        modalCover.style.display = 'block';
        modalCover.innerHTML = `<img src="${post.cover}" alt="${post.title || ''}">`;
      } else {
        modalCover.style.display = 'none';
        modalCover.innerHTML = '';
      }

      // Carrega markdown do artigo
      modalContent.innerHTML = '<p>Carregando conte√∫do...</p>';

      if (!post.file) {
        modalContent.innerHTML = '<p>N√£o foi poss√≠vel localizar o conte√∫do deste artigo. Verifique a propriedade <code>file</code> no JSON.</p>';
      } else {
        try {
          const resp = await fetch(post.file, { cache: 'no-store' });
          if (!resp.ok) {
            throw new Error('Erro ao carregar arquivo Markdown.');
          }
          const md = await resp.text();
          const html = simpleMarkdownToHtml(md);
          modalContent.innerHTML = html || '<p>Conte√∫do vazio.</p>';
        } catch (err) {
          console.error(err);
          modalContent.innerHTML = '<p>Ocorreu um erro ao carregar o conte√∫do deste artigo.</p>';
        }
      }

      // Bot√£o WhatsApp dentro do modal
      modalWhatsApp.onclick = () => {
        window.open(waLink('generic'), '_blank');
      };

      modalBackdrop.classList.add('open');
      modalBackdrop.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function closePostModal() {
      modalBackdrop.classList.remove('open');
      modalBackdrop.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    }

    if (modalClose) {
      modalClose.addEventListener('click', closePostModal);
    }
    if (modalCloseBottom) {
      modalCloseBottom.addEventListener('click', closePostModal);
    }

    modalBackdrop.addEventListener('click', (e) => {
      if (e.target === modalBackdrop) {
        closePostModal();
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modalBackdrop.classList.contains('open')) {
        closePostModal();
      }
    });

    // ==========================
    // INICIALIZA√á√ÉO
    // ==========================
    document.addEventListener('DOMContentLoaded', () => {
      loadPosts();
    });


    
  
    document.addEventListener("DOMContentLoaded", () => {
      // SEO
      document.title = ARTICLE.title + " | William Brioli";
      document.getElementById("metaTitle").textContent = ARTICLE.title;
      document.getElementById("metaDescription").content = ARTICLE.description;
      document.getElementById("ogTitle").content = ARTICLE.title;
      document.getElementById("ogDescription").content = ARTICLE.description;
      document.getElementById("ogImage").content = ARTICLE.cover;
      document.getElementById("canonicalLink").href = ARTICLE.canonical;

      // Conte√∫do
      document.getElementById("articleTitle").textContent = ARTICLE.title;
      const coverImg = document.getElementById("articleCover");

if (ARTICLE.showCover && ARTICLE.cover && ARTICLE.cover.trim() !== "") {
  coverImg.src = ARTICLE.cover;
  coverImg.alt = ARTICLE.alt || "";
  coverImg.style.display = "block";
} else {
  coverImg.style.display = "none";
}
      

      const date = new Date(ARTICLE.date);
      document.getElementById("articleMeta").textContent =
        date.toLocaleDateString("pt-BR", { day: "2-digit", month: "long", year: "numeric" }) +
        " ‚Ä¢ por " + ARTICLE.author;

      document.getElementById("articleContent").innerHTML = ARTICLE.content;
    });

 </script>


 

<!-- ‚öôÔ∏è Configura√ß√£o global de WhatsApp -->
<script src="js/config-whatsapp.js"></script>

<!-- üîó Liga os bot√µes da p√°gina -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const waFab = document.getElementById("waFab");
    if (waFab) waFab.addEventListener("click", () => openWA());

    const btnContact = document.getElementById("btnContact");
    if (btnContact) btnContact.addEventListener("click", () => openWA());

    const btnAgendar = document.getElementById("btnAgendarAtendimento");
    if (btnAgendar) btnAgendar.addEventListener("click", () => openWA());
  });
</script>


<script src="/js/menu.js"></script>
<script src="/js/config-whatsapp.js"></script>
<script src="/js/site-data.js"></script>
<script src="/js/footer-inject.js"></script>
<script src="/js/author-bio.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", carregarMenu);
</script>
  
 
</body>
</html>
