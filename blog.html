<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />



  <!-- 
    Os links abaixo carregam arquivos CSS (estilos).
    Eles deixam o site bonito, colorido, organizado, com fonte certa.
  -->

  <link rel="stylesheet" href="/css/menu.css">
  <!-- Arquivo que estiliza o menu do site -->

  <link rel="stylesheet" href="/css/base.css">
  <!-- Arquivo com estilos gerais usados no site todo -->

  <link rel="stylesheet" href="/css/blog.css">
  <!-- Arquivo que estiliza páginas de blog -->

  <link rel="stylesheet" href="/css/whatsapp-fab.css">
  <!-- Arquivo que estiliza o botão flutuante do WhatsApp -->

  <link rel="stylesheet" href="/css/search-bar.css">
  <!-- Arquivo que estiliza a barra de pesquisa -->
  

 <!-- ===================
     SEO – BLOG OTIMIZADO 2025
     =================== -->

<title>Blog | William Brioli – Psicanálise, Terapia, Saúde Emocional e Desenvolvimento Humano</title>

<meta name="description" content="Blog de William Brioli, Psicanalista Clínico Integrativo. Artigos sobre psicanálise, terapia, saúde emocional, relacionamentos, carreira, empreendedorismo, autoconhecimento e qualidade de vida.">
<meta name="keywords" content="blog psicanálise, terapia online, saúde emocional, autoconhecimento, desenvolvimento humano, psicanalista William Brioli, terapia para ansiedade, terapia de casal, psicoterapia, inteligência emocional, carreira e propósito, bem-estar mental, psicanálise clínica, terapia e autoconhecimento">
<meta name="author" content="William Brioli">
<meta name="robots" content="index, follow">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- SEO local -->
<meta name="geo.region" content="BR-SP">
<meta name="geo.placename" content="Ilha Solteira">
<meta name="geo.position" content="-20.4299;-51.3426">
<meta name="ICBM" content="-20.4299, -51.3426">

<!-- Canonical -->
<link rel="canonical" href="https://williambrioli.com.br/img/HEROog.png">

<!-- Open Graph (Facebook, WhatsApp, LinkedIn) -->
<meta property="og:title" content="Blog | William Brioli – Psicanálise, Terapia e Saúde Emocional">
<meta property="og:description" content="Reflexões e artigos sobre psicanálise, saúde mental, autoconhecimento e qualidade de vida com William Brioli.">
<meta property="og:type" content="website">
<meta property="og:locale" content="pt_BR">
<meta property="og:url" content="https://williambrioli.github.io/blog.html">
<meta property="og:site_name" content="William Brioli – Psicanalista Clínico Integrativo">
<meta property="og:image" content="https://williambrioli.github.io/img/artigocnv.png">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Blog | William Brioli – Psicanálise, Terapia e Saúde Emocional">
<meta name="twitter:description" content="Artigos sobre psicanálise, terapia, saúde emocional, carreira e autoconhecimento.">
<meta name="twitter:image" content="https://williambrioli.github.io/img/artigocnv.png">

<!-- JSON-LD estruturado para Blog -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Blog | William Brioli",
  "url": "https://williambrioli.github.io/blog.html",
  "description": "Artigos sobre psicanálise, terapia, saúde emocional, relacionamentos, carreira e desenvolvimento humano.",
  "publisher": {
    "@type": "Person",
    "name": "William Brioli",
    "jobTitle": "Psicanalista Clínico Integrativo",
    "url": "https://williambrioli.github.io",
    "image": "https://williambrioli.github.io/img/HEROog.jpg"
  },
  "inLanguage": "pt-BR"
}
</script>

  <!-- ===================
       STYLES – mesmo padrão de cores do site principal
       =================== -->
  
</head>
<body>

  <!-- ===================
       HERO DO BLOG
       =================== -->
  <main id="blog-top">
    <section class="blog-hero-wrap">
      <div class="container">
        <div class="blog-hero">
         <h1 id="heroTitle"></h1>
<p id="heroSubtitle"></p>
<small id="heroSmall"></small>
        </div>
      </div>
    </section>


<div id="searchContainer"></div>
<script src="/js/search-data.js"></script>
<script src="/js/search-bar.js"></script>
    
    <script src="/js/blog-hero-config.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const hero = window.BLOG_HERO;

  // Aplica a imagem no background
  const heroBox = document.querySelector(".blog-hero");
  heroBox.style.backgroundImage =
    `linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.1)), url("${hero.image}")`;

  // Textos
  document.getElementById("heroTitle").textContent = hero.title;
  document.getElementById("heroSubtitle").textContent = hero.subtitle;
  document.getElementById("heroSmall").textContent = hero.small;
});
</script>

    <!-- ======================================
     LISTA DE ARTIGOS (Artigos Recentes)
     ====================================== -->
<section class="blog-section">
  <div class="container">

    <h2>Artigos Recentes</h2>
    <!-- Título da seção onde aparecem outros posts -->

    <div id="postsGrid" class="posts-grid">
      <!-- 
        Dentro deste grid, o JS cria vários "cards" de artigos dinamicamente.
      -->
    </div>

    <div id="postsMessage" class="posts-empty" style="display:none;"></div>
    <!-- 
      Esta mensagem aparece caso não existam artigos no arquivo JSON.
    -->

  </div>
</section>

   <!-- ===================
         CONTATO / RODAPÉ
         =================== -->
    <footer id="contato" class="site-footer">
  <div class="container footer-card" id="footerContainer">

    <!-- Conteúdo será injetado via JS -->
  </div>
</footer>
  </main>

     

  <!-- ============================
     MODAL DE LEITURA DO POST
     (abre quando clica em um artigo na lista)
     ============================ -->
<div id="postModalBackdrop" class="modal-backdrop" aria-hidden="true">
<!-- 
  Este é o fundo escuro que aparece atrás do modal.
  aria-hidden="true" diz que ele começa invisível.
-->

  <article class="modal" role="dialog" aria-modal="true" aria-labelledby="postModalTitle">
  <!-- 
    Aqui é a CAIXA do modal.
    role="dialog" diz que é como uma janelinha de conversa.
  -->

    <button class="modal-close" type="button" id="postModalClose" aria-label="Fechar artigo">×</button>
    <!-- 
      Este é o X de fechar no canto superior.
      O JS escuta o clique neste botão para esconder o modal.
    -->

    <header class="modal-header">
      <h2 id="postModalTitle"></h2>
      <!-- Título que aparece dentro do modal -->

      <div class="post-meta" id="postModalMeta"></div>
      <!-- Aqui vai data + autor -->
    </header>

    <div class="modal-cover" id="postModalCover" style="display:none;"></div>
    <!-- 
      Aqui aparece a imagem de capa do artigo (se existir).
      Começa escondido com "display:none".
    -->

    <section class="modal-content" id="postModalContent"></section>
    <!-- Aqui vai o conteúdo do artigo quando aberto dentro do modal -->

    <footer class="modal-footer">
      <button type="button" class="btn" id="postModalWhatsApp"></button>
      <!-- Botão do WhatsApp dentro do modal (texto vem do SITE_DATA) -->

      <button type="button" class="btn" id="postModalCloseBottom"></button>
      <!-- Botão "Fechar" no rodapé do modal (texto vem do SITE_DATA) -->
    </footer>
  </article>
</div>

  
    

  <!-- ============================
     SCRIPT PRINCIPAL DO ARTIGO
     ============================ -->
<script>
/*
  Aqui começam várias funções importantes para fazer a página funcionar.
  Elas cuidam de:
  - transformar markdown em HTML
  - carregar lista de posts
  - abrir e fechar o modal
  - inserir conteúdo na página
*/

/* ==========================================
   FUNÇÃO: simpleMarkdownToHtml()
   Serve para transformar markdown simples em HTML.
   ========================================== */
function simpleMarkdownToHtml(md) {
  if (!md) return '';

  // Troca quebras de linha antigas por novas
  let text = md.replace(/\r\n/g, '\n');

  // Títulos de vários níveis
  text = text.replace(/^### (.*)$/gm, '<h3>$1</h3>');
  text = text.replace(/^## (.*)$/gm, '<h2>$1</h2>');
  text = text.replace(/^# (.*)$/gm, '<h2>$1</h2>');

  // Negrito **
  text = text.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');

  // Itálico *
  text = text.replace(/\*(.+?)\*/g, '<em>$1</em>');

  // Transformar listas
  text = text.replace(/^[\-\*] (.*)$/gm, '<li>$1</li>');
  text = text.replace(/(<li>.*<\/li>\n?)+/gm, match => `<ul>${match}</ul>`);

  // Transformar blocos separados por linha vazia em parágrafos
  const parts = text.split(/\n{2,}/).map(block => {
    if (/^<h[23]>/.test(block) || /^<ul>/.test(block)) {
      return block;
    }
    return `<p>${block.trim()}</p>`;
  });

  return parts.join('\n');
}







    

    /* ==========================================
   CARREGAMENTO DE POSTS
   Lê o arquivo posts.json e cria os cards na página.
   ========================================== */

let POSTS_CACHE = [];

async function loadPosts() {
  const grid = document.getElementById('postsGrid');
  const msgEl = document.getElementById('postsMessage');

  if (!grid || !msgEl) return;

  msgEl.style.display = 'none';
  msgEl.textContent = '';

  try {
    // Busca o arquivo que contém os posts
    const response = await fetch('/posts/posts.json', { cache: 'no-store' });

    if (!response.ok) {
      throw new Error('Não foi possível carregar a lista de artigos.');
    }

    const posts = await response.json();

    if (!Array.isArray(posts) || posts.length === 0) {
      msgEl.style.display = 'block';
      msgEl.textContent = 'Ainda não há artigos publicados.';
      return;
    }

    POSTS_CACHE = posts;
    renderPosts(posts, grid);

  } catch (err) {
    console.error(err);
    msgEl.style.display = 'block';
    msgEl.textContent = 'Ocorreu um problema ao carregar artigos.';
  }
}


/* ==========================================
   FUNÇÃO: renderPosts()
   Cria os cards dinamicamente dentro do grid.
   ========================================== */
function renderPosts(posts, container) {
  container.innerHTML = '';

  posts.forEach(post => {
    const card = document.createElement('article');
    card.className = 'post-card';

    // Capa
    if (post.cover) {
      const img = document.createElement('img');
      img.src = post.cover;
      img.alt = post.title || '';
      card.appendChild(img);
    }

    const body = document.createElement('div');
    body.className = 'post-card-body';

    // Tag (ex: Psicologia)
    if (Array.isArray(post.tags) && post.tags.length > 0) {
      const tag = document.createElement('span');
      tag.className = 'post-tag';
      tag.textContent = post.tags[0];
      body.appendChild(tag);
    }

    // Título
    const h3 = document.createElement('h3');
    h3.textContent = post.title || 'Artigo sem título';
    body.appendChild(h3);

    // Meta (data + autor)
    const meta = document.createElement('div');
    meta.className = 'post-meta';
    meta.textContent = formatPostMeta(post);
    body.appendChild(meta);

    // Resumo
    if (post.excerpt) {
      const excerpt = document.createElement('div');
      excerpt.className = 'post-excerpt';
      excerpt.textContent = post.excerpt;
      body.appendChild(excerpt);
    }

    // Botão do card
    const footer = document.createElement('div');
    footer.className = 'post-card-footer';

    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'btn';
    btn.textContent = window.SITE_DATA.buttons.readMore;
    // O texto vem do arquivo site-data.js

    btn.addEventListener('click', () => {
      // abre a página do artigo
      if (post.html) {
        window.location.href = post.html;
      }
    });

    footer.appendChild(btn);
    body.appendChild(footer);
    card.appendChild(body);
    container.appendChild(card);
  });
}


   /* ==========================================
   FUNÇÃO: formatPostMeta()
   Formata a data + autor do post
   ========================================== */
function formatPostMeta(post) {
  let parts = [];

  if (post.date) {
    const d = new Date(post.date);
    if (!isNaN(d)) {
      const formatted = d.toLocaleDateString('pt-BR', {
        day: '2-digit',
        month: 'long',
        year: 'numeric'
      });
      parts.push(formatted);
    }
  }

  if (post.author) {
    parts.push('por ' + post.author);
  }

  return parts.join(' • ');
}


  
    /* ==========================================
   FUNÇÃO DO MODAL (abrir e fechar)
   ========================================== */
const modalBackdrop = document.getElementById('postModalBackdrop');
const modalTitle = document.getElementById('postModalTitle');
const modalMeta = document.getElementById('postModalMeta');
const modalCover = document.getElementById('postModalCover');
const modalContent = document.getElementById('postModalContent');
const modalClose = document.getElementById('postModalClose');
const modalCloseBottom = document.getElementById('postModalCloseBottom');
const modalWhatsApp = document.getElementById('postModalWhatsApp');

async function openPostModal(post) {
  if (!post) return;

  modalTitle.textContent = post.title || '';
  modalMeta.textContent = formatPostMeta(post);

  if (post.cover) {
    modalCover.style.display = 'block';
    modalCover.innerHTML = `<img src="${post.cover}">`;
  } else {
    modalCover.style.display = 'none';
  }

  modalContent.innerHTML = '<p>Carregando conteúdo...</p>';

  if (!post.file) {
    modalContent.innerHTML = '<p>Conteúdo não encontrado.</p>';
  } else {
    try {
      const resp = await fetch(post.file, { cache: 'no-store' });
      const md = await resp.text();
      modalContent.innerHTML = simpleMarkdownToHtml(md);
    } catch {
      modalContent.innerHTML = '<p>Erro ao carregar conteúdo.</p>';
    }
  }

  modalWhatsApp.onclick = () => {
    window.open(waLink('generic'), '_blank');
  };

  modalBackdrop.classList.add('open');
  modalBackdrop.setAttribute('aria-hidden', 'false');
  document.body.style.overflow = 'hidden';
}

function closePostModal() {
  modalBackdrop.classList.remove('open');
  modalBackdrop.setAttribute('aria-hidden', 'true');
  document.body.style.overflow = '';
}

modalClose.addEventListener('click', closePostModal);
modalCloseBottom.addEventListener('click', closePostModal);


/* ==========================================
   INICIALIZAÇÃO GERAL DA PÁGINA
   ========================================== */
document.addEventListener('DOMContentLoaded', () => {
  loadPosts();
});

    // ==========================
    // INICIALIZAÇÃO
    // ==========================
    document.addEventListener('DOMContentLoaded', () => {
      loadPosts();
    });

  </script>


 
   <!-- Carrega o arquivo com textos e botões -->
<script src="/js/site-data.js"></script>


<!-- ==========================================
     SCRIPT QUE INJETA TEXTOS DOS BOTÕES DO SITE_DATA
     ========================================== -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  // Botão final do artigo
  const btn = document.getElementById("btnAgendarAtendimento");
  if (btn && window.SITE_DATA?.buttons?.articleCTA) {
    btn.textContent = window.SITE_DATA.buttons.articleCTA;
  }

  // Botão do modal de WhatsApp
  const modalWA = document.getElementById("postModalWhatsApp");
  if (modalWA && window.SITE_DATA?.buttons?.modalCTA) {
    modalWA.textContent = window.SITE_DATA.buttons.modalCTA;
  }

  // Botão inferior "Fechar"
  const modalCloseBtn = document.getElementById("postModalCloseBottom");
  if (modalCloseBtn && window.SITE_DATA?.buttons?.closeModal) {
    modalCloseBtn.textContent = window.SITE_DATA.buttons.closeModal;
  }
});
</script>


<!-- Scripts complementares -->
<script src="/js/load-whatsapp.js"></script>
<script src="/js/config-whatsapp.js"></script>
<script src="/js/menu.js"></script>
<script src="/js/footer-inject.js"></script>
<script src="/js/author-bio.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", carregarMenu);
  // Faz o menu aparecer automaticamente
</script>

</body>
</html>








